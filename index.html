<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        $body.html('<nav class="fixed-nav-bar">\
                    <div class="menu" style="width: 95%; height: 60px ;margin: 0 auto;">\
                    <ul class="menu-items">\
                          <li><a href="#">Refresh</a></li>\
                          <li><a href="#">Live Mode</a></li>\
                      </ul>\
                    </div>\
                  </nav>\
                  <div class="content" style="margin-top: 65px;">\
                  </div>').css(
                            {'background-size': 'cover',
                            'background-color': 'black'
                            });
        var $navBar = $('.fixed-nav-bar');
        var $content = $('.content');
        var $menuItems = $('.menu-items');
        var $menuLi = $('li');
        var $links = $('a');
        $navBar.css({'position': 'fixed',
                        'top': '0',
                        'left': '0',
                        'z-index': '9999',
                        'width': '100%',
                        'height': '60px',
                        'line-height': '60px',
                        'background-color': '#000'});
        $menuItems.css({'display': 'inline-block',
                        'margin': '0',
                        'padding': '0',
                        'border': '0',
                        'float': 'right',
                        'font-size': '25px'});
        $menuLi.css({'display': 'inline-block',
                        'margin-right': '10px',
                        'margin-left': '10px'});
        $links.css({'text-decoration': 'none',
                    'color': '#808080'});
        var index = streams.home.length - 1;
        var userStyles = {douglascalhoun: {bkgrnd: '#808080', color: 'white'},
                          mracus: {bkgrnd: '#BECACF', color: 'black'},
                          shawndrost: {bkgrnd: '#DEDEDE', color: '#258028'},
                          sharksforcheap: {bkgrnd: '#B6C3A2', color: '#733838'}};
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div class="' + tweet.user + '"></div>');
/* Time-stamp to use later on in tweet div */
          var timestamp = '';
          if (tweet.created_at.getHours() > 12) {
            timestamp += (tweet.created_at.getHours() - 12) + ':'
            + ('0' + tweet.created_at.getMinutes()).slice(-2) + 'pm';
          } else {
            timestamp += tweet.created_at.getHours() + ':'
            + ('0' + tweet.created_at.getMinutes()).slice(-2) + 'am';
          }
/* End time-stamp creation/formatting code */
          $tweet.text('@' + tweet.user + ': ' + tweet.message + ' - ' + timestamp)
                .css({'font-size': '18px',
                      width: '95%',
                      'color': userStyles[tweet.user].color,
                      'background-color': userStyles[tweet.user].bkgrnd,
                      padding: '15px',
                      margin: '10px auto',
                      // float: 'top',
                      'border-radius': '10px'
                });
          $tweet.appendTo($content);
          index -= 1;
        }

      });

    </script>
  </body>
</html>
